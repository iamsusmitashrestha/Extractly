// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model ExtractionRecord {
  id               String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  url              String
  instruction      String
  htmlContent      String   @map("html_content")
  parsedFields     Json?    @map("parsed_fields")
  extractedData    Json?    @map("extracted_data")
  confidenceScores Json?    @map("confidence_scores")
  processingStatus String   @default("pending") @map("processing_status") // pending, processing, completed, failed
  errorMessage     String?  @map("error_message")
  createdAt        DateTime @default(now()) @map("created_at")
  updatedAt        DateTime @updatedAt @map("updated_at")

  @@index([createdAt])
  @@index([url])
  @@index([processingStatus])
  @@map("extraction_records")
}
